<!doctype html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mini Anket</title>
<style>
  :root{
    --bg:#0b0b0f;
    --card:#141420;
    --text:#f4f4ff;
    --muted:#b9b9d6;
    --yes:#2ecc71;
    --no:#e74c3c;
    --stroke: rgba(255,255,255,.10);
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    background: radial-gradient(900px 500px at 50% 20%, rgba(120,90,255,.18), transparent 60%),
                radial-gradient(900px 500px at 50% 80%, rgba(46,204,113,.10), transparent 60%),
                var(--bg);
    color:var(--text);
    font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
    padding:18px;
  }
  .card{
    width:min(520px, 100%);
    background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.03));
    border:1px solid var(--stroke);
    border-radius:18px;
    padding:18px;
    box-shadow: 0 16px 60px rgba(0,0,0,.45);
    backdrop-filter: blur(8px);
  }
  .top{
    display:flex; align-items:center; justify-content:space-between;
    gap:12px;
    margin-bottom:12px;
  }
  .badge{
    font-size:12px;
    color:var(--muted);
    border:1px solid var(--stroke);
    padding:6px 10px;
    border-radius:999px;
  }
  .progress{
    font-size:12px;
    color:var(--muted);
  }
  h1{
    margin:8px 0 6px;
    font-size:22px;
    line-height:1.2;
    letter-spacing:.2px;
  }
  p{
    margin:0 0 14px;
    color:var(--muted);
    font-size:14px;
    line-height:1.4;
  }

  .btnRow{
    display:flex;
    gap:12px;
    justify-content:center;
    align-items:center;
    flex-wrap:wrap;
    margin-top:8px;
  }
  button{
    border:none;
    border-radius:14px;
    padding:14px 18px;
    font-size:16px;
    font-weight:700;
    cursor:pointer;
    transition: transform .2s ease, filter .2s ease, opacity .2s ease;
    user-select:none;
    -webkit-tap-highlight-color: transparent;
  }
  button:active{ transform: scale(.98); }

  .yes{ background: var(--yes); color:#06210f; }
  .no{ background: var(--no); color:#fff; }

  /* ‚Äúka√ßan‚Äù buton i√ßin alan */
  .playArea{
    position:relative;
    width:100%;
    height:140px;
    border-radius:16px;
    border:1px dashed rgba(255,255,255,.12);
    background: rgba(0,0,0,.18);
    overflow:hidden;
    display:flex;
    align-items:center;
    justify-content:center;
    margin-top:10px;
  }

  /* EVET ortada sabit kalsƒ±n, b√ºy√ºd√ºk√ße ekranƒ± bassƒ±n */
  .playArea .yes{
    position:absolute;
    left:50%;
    top:50%;
    transform: translate(-50%, -50%) scale(1);
    z-index:2;
  }
  .playArea .no{
    position:absolute;
    left: 62%;
    top: 22%;
    z-index:1;
  }

  .bigText{
    font-size:24px;
    line-height:1.25;
    margin:10px 0 0;
    text-align:center;
  }
  .sub{
    text-align:center;
    margin-top:10px;
    color:var(--muted);
  }
  .restart{
    margin-top:14px;
    width:100%;
    background: rgba(255,255,255,.08);
    color: var(--text);
    border: 1px solid var(--stroke);
  }
</style>
</head>
<body>
  <div class="card" role="application" aria-label="Mini Anket">
    <div class="top">
      <div class="badge">Mini Anket</div>
      <div class="progress" id="progress">1 / 3</div>
    </div>

    <h1 id="title">Soru 1</h1>
    <p id="desc">ƒ∞sminin i√ßinde <b>‚Äúe‚Äù</b> harfi var mƒ±?</p>

    <div id="normalRow" class="btnRow">
      <button class="yes" id="btnYes">Evet</button>
      <button class="no" id="btnNo">Hayƒ±r</button>
    </div>

    <div id="playArea" class="playArea" style="display:none;">
      <button class="yes" id="yesPlay">Evet</button>
      <button class="no" id="noPlay">Hayƒ±r</button>
    </div>

    <div id="result" style="display:none;">
      <div class="bigText" id="resultText">O zaman sen tam bir sevimsizsin üòå</div>
      <div class="sub">Bu sonu√ß bilimsel deƒüildir ama √ßok nettir.</div>
      <button class="restart" id="restartBtn">Tekrar Yap</button>
    </div>
  </div>

<script>
  const progress = document.getElementById("progress");
  const title = document.getElementById("title");
  const desc = document.getElementById("desc");

  const normalRow = document.getElementById("normalRow");
  const btnYes = document.getElementById("btnYes");
  const btnNo = document.getElementById("btnNo");

  const playArea = document.getElementById("playArea");
  const yesPlay = document.getElementById("yesPlay");
  const noPlay = document.getElementById("noPlay");

  const result = document.getElementById("result");
  const resultText = document.getElementById("resultText");
  const restartBtn = document.getElementById("restartBtn");

  let step = 1;

  // Ka√ßan-butondaki √∂l√ßekler
  let yesScale = 1;
  let noScale  = 1;
  let noClicks = 0;

  function setStep(n){
    step = n;
    progress.textContent = `${step} / 3`;

    if(step === 1){
      title.textContent = "Soru 1";
      desc.innerHTML = `ƒ∞sminin i√ßinde <b>‚Äúe‚Äù</b> harfi var mƒ±?`;
      normalRow.style.display = "flex";
      playArea.style.display = "none";
      result.style.display = "none";
    }

    if(step === 2){
      title.textContent = "Soru 2";
      desc.innerHTML = `Sabah uyanƒ±nca ilk <b>10 dakika</b> i√ßinde telefona bakar mƒ±sƒ±n?`;
      normalRow.style.display = "flex";
      playArea.style.display = "none";
      result.style.display = "none";
    }

    if(step === 3){
      title.textContent = "Soru 3";
      desc.innerHTML = `≈ûimdi son soru √ßok √∂nemli: <b>‚ÄúSevimsiz Misin?‚Äù</b>`;
      normalRow.style.display = "none";
      playArea.style.display = "flex";
      result.style.display = "none";

      // reset oyun alanƒ±
      yesScale = 1;
      noScale = 1;
      noClicks = 0;
      yesPlay.style.transform = "translate(-50%, -50%) scale(1)";
      noPlay.style.transform  = "scale(1)";
      noPlay.style.display = "block";
      moveNoRandom();
    }
  }

  function showResult(){
    playArea.style.display = "none";
    normalRow.style.display = "none";
    title.textContent = "Sonu√ß";
    desc.textContent = "";
    progress.textContent = "Bitti ‚úÖ";
    result.style.display = "block";
    resultText.textContent = "Biliyorduk zaten‚Ä¶ sevimsizsin teki olduƒüunu üòå";
  }

  function moveNoRandom(){
    // mobilde parmakla basmayƒ± zorla≈ütƒ±racak kadar ka√ßsƒ±n ama tamamen u√ßmasƒ±n
    const area = playArea.getBoundingClientRect();
    const btn = noPlay.getBoundingClientRect();

    const maxX = Math.max(0, area.width - btn.width - 8);
    const maxY = Math.max(0, area.height - btn.height - 8);

    const x = Math.random() * maxX + 4;
    const y = Math.random() * maxY + 4;

    noPlay.style.left = `${x}px`;
    noPlay.style.top  = `${y}px`;
  }

  // ƒ∞lk 2 soru: tƒ±klayƒ±nca bir sonrakine ge√ß
  function onNormalAnswer(){
    if(step < 3) setStep(step + 1);
  }

  btnYes.addEventListener("click", onNormalAnswer);
  btnNo.addEventListener("click", onNormalAnswer);

  // 3. soru oyun: Hayƒ±r‚Äôa basƒ±nca EVET b√ºy√ºr, Hayƒ±r k√º√ß√ºl√ºr & ka√ßar
  noPlay.addEventListener("click", () => {
    noClicks++;

    // EVET daha hƒ±zlƒ± b√ºy√ºs√ºn
    yesScale += 0.45;
    yesPlay.style.transform = `translate(-50%, -50%) scale(${yesScale})`;

    // HAYIR k√º√ß√ºls√ºn
    noScale  -= 0.18;
    noPlay.style.transform  = `scale(${Math.max(noScale, 0.35)})`;

    // HAYIR ka√ßsƒ±n
    moveNoRandom();

    // 5 tƒ±k sonra ka√ßƒ±≈ü yok: Hayƒ±r kaybolur, EVET devle≈üir
    if(noClicks >= 5){
      noPlay.style.display = "none";
      yesScale = Math.max(yesScale, 2.8);
      yesPlay.style.transform = `translate(-50%, -50%) scale(${yesScale})`;
    }
  });

  // EVET'e basƒ±nca sonu√ß
  yesPlay.addEventListener("click", showResult);

  // restart
  restartBtn.addEventListener("click", () => setStep(1));

  // Ba≈ülat
  setStep(1);

  // Bonus: mobilde kullanƒ±cƒ± hayƒ±r'a yakla≈üƒ±nca da ka√ßsƒ±n (komik)
  noPlay.addEventListener("touchstart", () => {
    moveNoRandom();
  }, {passive:true});
</script>
</body>
</html>
